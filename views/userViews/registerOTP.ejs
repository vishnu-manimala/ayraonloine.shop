<%- include('./layouts/header_nologout.ejs') %>
<div class="container " >
    <div class="row justify-content-center mt-3">
      <div class="col-md-6 ">
        <div class="card">
          <header class="card-header border-0">
            <h4 class="card-title mt-2 text-center">Sign Up</h4>
          </header>
          <article class="card-body bg-white border-0">
            <form action="/register?id=success" method="post"> 
              </div>
              <div class="card text-center">
                <% if(typeof message !=='undefined' ) { %>
                    <p class="ps-md-5 pt-2 " style="color: green"><%= message %></p>
                    <% } %>
                  <div class="card-body">
                      <div class="form-group row d-flex justify-content-center" id="otpField">
                     <span id="check"></span>
                          <input
                              type="text"
                              class="form-control w-50 border-success "
                              name="otp"
                              placeholder="Enter OTP"
                              required
                          />
                          </div>
                          <div
                          class="form- mt-2"
                          id="otpVerifyButton"
                          style="
                              width: auto;
                              display: block;
                              display: flex;
                              justify-content: center;
                              align-items: center;
                          "
                          >
                          <button
                              type="submit"
                              class="btn btn-primary btn-block"
                              style="width: auto"
                          >
                              Verify OTP
                          </button>
                      </div>
                      <div class="row container d-flex justify-content-center">
                        <div id="countDown" class=" text-center mt-2">
                          <span id="otpCount"></span>
                        </div>
                      </div>
                      
                  </div>

              </div>
            </form>
            <div  class="container">
              <form method="POST" action="register/resend">
                <p class="full">
                  <div
                  class="form-group"
                  id="resendotpButton"
                  style="
                      width: auto;
                      display: block;
                      display: flex;
                      justify-content: center;
                      align-items: center;
                  "
                  >
                  <button
                      type="submit"
                      class="btn btn-primary btn-block  bg-white text-black"
                      style="width: auto"
                  >
                      Resend OTP
                  </button>
                </p>
            
              </form>
            </div>
          </article>
        </div>
      </div>
    </div>
  </div>

  <script>
    function startCountdown(seconds) {
    var countdownElement = document.getElementById("otpCount");
    var countdown = seconds;

    // Update the countdown every second
    var timer = setInterval(function() {
      countdown--;
      countdownElement.innerText = "Your otp will expire in "+countdown +" seconds !";

      // Clear the timer when countdown reaches 0
      if (countdown <= 0) {
        clearInterval(timer);
        countdownElement.innerText = "Your otp Expired";
        documnet.getElementById('otp').addAttribute("disabled");
        

      }
    }, 1000);
  }

  // Start the countdown
  
  
  startCountdown(60); // Replace 60 with the desired countdown duration in seconds

  </script>
  <%- include('./layouts/footer.ejs') %>